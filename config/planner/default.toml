# =============================================================================
# DEFAULT PLANNER CONFIGURATION
# =============================================================================
#
# This file controls how the portfolio planner generates trading recommendations.
# The planner analyzes your portfolio and suggests sequences of buy/sell actions
# to improve diversification, rebalance positions, and take advantage of opportunities.
#
# HOW IT WORKS:
# 1. Identifies opportunities (profit taking, averaging down, rebalancing, etc.)
# 2. Generates action sequences (patterns like "sell X, then buy Y")
# 3. Filters out bad sequences (too correlated, ineligible positions, etc.)
# 4. Evaluates remaining sequences (simulates and scores each one)
# 5. Selects the best sequence and presents it as a plan
#
# PRESET CONFIGURATIONS:
# - default.toml (this file): Balanced strategy with all features
# - conservative.toml: Minimal intervention, only high-priority actions
# - aggressive.toml: Active trading with advanced features enabled
#
# CUSTOMIZATION:
# You can create your own TOML file by copying this and adjusting values.
# Each setting includes [MIN-MAX] range and default value documentation.
#
# =============================================================================

[planner]
# Human-readable name for this configuration
name = "default"

# Description shown in logs and UI
description = "Standard planner with all features enabled"

# Enable continuous batch generation of trading sequences
# When true, sequences are pre-generated in background by batch job
# When false, sequences are generated on-demand only
# [TYPE: boolean, DEFAULT: true]
# - true: Pre-compute sequences for faster recommendations (recommended)
# - false: On-demand generation only (saves computation but slower responses)
enable_batch_generation = true

# -----------------------------------------------------------------------------
# SEARCH DEPTH AND BREADTH
# -----------------------------------------------------------------------------

# Maximum number of actions in a sequence
# Example: max_depth=3 allows sequences like "sell A, buy B, buy C"
# Higher values find more complex opportunities but take longer to compute
# [MIN: 1, MAX: 10, DEFAULT: 5]
# - 1-2: Simple strategies (sell one, buy one)
# - 3-5: Moderate complexity (recommended)
# - 6-10: Very complex multi-step strategies (slow)
max_depth = 5

# Maximum opportunities to identify per category
# Categories: profit_taking, averaging_down, rebalance_sell, rebalance_buy, etc.
# Higher values give more options but increase computation time
# [MIN: 1, MAX: 20, DEFAULT: 5]
# - 1-3: Quick decisions with fewer options
# - 4-6: Good balance (recommended)
# - 7+: Comprehensive search (slower)
max_opportunities_per_category = 5

# -----------------------------------------------------------------------------
# DIVERSITY VS PRIORITY
# -----------------------------------------------------------------------------

# Enable diverse selection (vs pure priority ranking)
# When true, selects a diverse set of opportunities across categories
# When false, only selects highest-priority opportunities
# [TYPE: boolean, DEFAULT: true]
# - true: Better portfolio balance, more varied strategies
# - false: Laser-focused on highest-priority actions only
enable_diverse_selection = true

# Weight given to diversity vs priority (when diverse selection enabled)
# 0.0 = pure priority, 1.0 = pure diversity
# [MIN: 0.0, MAX: 1.0, DEFAULT: 0.3]
# - 0.0-0.2: Mostly priority-driven
# - 0.3-0.5: Balanced (recommended)
# - 0.6-1.0: Heavily favor diversity
diversity_weight = 0.3

# -----------------------------------------------------------------------------
# TRANSACTION COSTS
# -----------------------------------------------------------------------------

# Fixed cost per trade in EUR
# This is charged for every buy or sell, regardless of size
# [MIN: 0.0, MAX: 100.0, DEFAULT: 2.0]
# Examples: Interactive Brokers ~1-2 EUR, Traditional brokers ~5-10 EUR
transaction_cost_fixed = 2.0

# Variable cost as a percentage of trade value
# 0.002 = 0.2% of trade value
# [MIN: 0.0, MAX: 0.05, DEFAULT: 0.002]
# Examples:
# - 0.001 = 0.1% (low-cost brokers)
# - 0.002 = 0.2% (typical)
# - 0.005 = 0.5% (higher-cost brokers)
transaction_cost_percent = 0.002

# -----------------------------------------------------------------------------
# TRADE PERMISSIONS
# -----------------------------------------------------------------------------

# Allow selling existing positions
# [TYPE: boolean, DEFAULT: true]
# - true: Can sell to rebalance or take profits
# - false: Buy-only mode (useful for accumulation phase)
allow_sell = true

# Allow buying new positions
# [TYPE: boolean, DEFAULT: true]
# - true: Can buy to rebalance or invest cash
# - false: Sell-only mode (useful for liquidation phase)
allow_buy = true

# -----------------------------------------------------------------------------
# ELIGIBILITY AND RISK MANAGEMENT
# -----------------------------------------------------------------------------

# Minimum days a position must be held before selling
# Prevents churning and gives positions time to perform
# [MIN: 0, MAX: 365, DEFAULT: 90]
# - 0: No restriction (day trading allowed)
# - 30-90: Short-term holding (recommended for active trading)
# - 90-180: Medium-term holding (default)
# - 180+: Long-term holding (conservative)
min_hold_days = 90

# Days to wait after selling a symbol before buying it again
# Prevents "wash sale" patterns and emotional re-buying
# [MIN: 0, MAX: 365, DEFAULT: 180]
# - 0: Can immediately rebuy (not recommended)
# - 90-180: Moderate cooldown (recommended)
# - 180-365: Long cooldown (conservative)
sell_cooldown_days = 180

# Maximum loss threshold before forced selling consideration
# -0.20 = -20% loss triggers eligibility for selling
# Protects against holding losers too long
# [MIN: -1.0, MAX: 0.0, DEFAULT: -0.20]
# - -0.10 to -0.15: Tight stop loss (aggressive risk management)
# - -0.20 to -0.30: Moderate stop loss (recommended)
# - -0.40+: Loose stop loss (value investing, long-term)
max_loss_threshold = -0.20

# -----------------------------------------------------------------------------
# SEARCH ALGORITHM PARAMETERS
# -----------------------------------------------------------------------------
